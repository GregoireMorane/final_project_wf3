{% extends "layout.html.twig" %}

{% block content %}
    <hr class="hrStyle col-lg-10 col-md-10 col-xs-10 col-lg-offset-1 col-md-offset-1 col-xs-offset-1">

    <div class="container ">    
        {#le menu en deskotp#}
        <div class="list col-md-4 col-sm-4 col-lg-4 col-xs-4">
            {#menu niveau 1#}
            <div id="monmenu" style="padding-left: 0px">
                <ul class=niveau1>
                    <li class="plus italic">Liste des lieux de traitement</li>
                        {% for location in locations %}
                        <li><a  class="col-md-10 col-sm-10 col-lg-10 col-xs-10" href="{{path ('registerlieutraitement', {id: location.id_location_processing}) }}" >{{location.processing_location}}</a><span class="glyphicon glyphicon-menu-right pull right" style="font-size:2em;"></span>

                            {#menu niveau 2#}
                            <ul class=niveau2>
                                <li class="plus italic">Les collecteurs de {{location.processing_location}}</li>
                                    {% for collector in location.collectors %}
                                    <li class=plus><a class="col-md-9 col-sm-9 col-lg-9 col-xs-9" href="{{path ('registercollector', {id: collector.idcollector}) }}" >{{collector.firstname}}</a><span class="glyphicon glyphicon-menu-right pull right" style="font-size:2em; "></span>

                                        {#menu niveau 3#}
                                        <ul class ="niveau3">
                                            <li class="plus italic">Les clients de {{location.processing_location}}</li>
                                                {% for client in location.clients %}
                                                <li class=plus>
                                                    <a class="col-md-9 col-sm-9 col-lg-9 col-xs-9" href="{{path ('registerclient', {id:client.idclient })}}">{{client.fullname}}</a><span class="glyphicon glyphicon-menu-right pull right" style="font-size:2em;"></span>

                                                    {#menu niveau 4#}
                                                    <ul class=niveau4>
                                                        <li class="plus italic">les lieux de colectes du client {{client.fullname}}</li>
                                                            {% for lieu in location.lieux %}
                                                            <li class="plus" style="height: 54px;">
                                                                <a href="{{path ('registerlieucollecte', {id: lieu.id_collection_address}) }}">{{lieu.address_name}}</a>
                                                            </li>
                                                        {% endfor %}
                                                        <li class="plus italic">
                                                            <a class="buttonlink" href="{{ path('registerlieucollecte')}}"><img  class="buttonadd" src="{{asset('images/addbutton.png')}}"></a>
                                                            ajouter un lieu de collecte à ce client</a>
                                                        </li>
                                                    </ul>{# fin menu niveau 4#}

                                                </li>
                                            {% endfor %}
                                            <li class="plus italic"> 
                                                <a class="buttonlink" href="{{ path('registerclient')}}"><img  class="buttonadd" src="{{asset('images/addbutton.png')}}"></a>
                                                    ajouter un client</li>
                                        </ul>{# fin menu niveau 3#}
                                    </li>
                                {% endfor %}
                                <li class="plus italic">
                                    <a class="buttonlink" href="{{ path('registertraitementcollector', {id: location.id_location_processing} )}}">
                                        <img  class="buttonadd" src="{{asset('images/addbutton.png')}}"></a>
                                        assigner un collectecteur à ce lieu de traitement</li>
                            </ul>{# fin menu niveau 2#}

                        </li>{% endfor %}
                        <li class="plus italic">
                            <a href="{{ path('registerlieutraitement')}}"><img class="buttonadd" src="{{asset('images/addbutton.png')}}"></a>
                            ajouter un lieu de traitment 
                        </li>
                    </ul>
                </div>{# fin menu niveau 1#}
            </div>

            {#listes#}
            <div class="col-lg-3 col-md-3 col-xs-10 col-sm-10 col-md-offset-1 col-lg-offset-1 col-sm-offset-1 col-xs-offset-1">
                <div class="panel panel-default text-center">
                    <div class="panel-body">
                        <h3 class="accesliste">liste des collecteurs</h3>
                        <a href="{{ path('listecollector')}}">
                            <img  src="{{asset('images/list.png')}}">
                        </a>
                    </div>
                </div>
            </div>

            <div class="col-lg-3 col-md-3 col-xs-10 col-sm-10 col-md-offset-1 col-lg-offset-1 col-sm-offset-1 col-xs-offset-1">
                <div class="panel panel-default text-center">
                    <div class="panel-body">
                        <h3 class="accesliste">liste des lieux de collectes</h3>
                        <a href="{{ path('listelieucollecte')}}">
                            <img  src="{{asset('images/list.png')}}">
                        </a>
                    </div>
                </div>
            </div>

            <div class="col-lg-3 col-md-3 col-xs-10 col-sm-10 col-md-offset-1 col-lg-offset-1 col-sm-offset-1 col-xs-offset-1">
                <div class="panel panel-default text-center">
                    <div class="panel-body">
                        <h3 class="accesliste">liste des les clients</h3>
                        <a href="{{ path('listeclient')}}">
                            <img  src="{{asset('images/list.png')}}">
                        </a>
                    </div>
                </div>
            </div>

            <div class="col-lg-3 col-md-3 col-xs-10 col-sm-10 col-md-offset-1 col-lg-offset-1 col-sm-offset-1 col-xs-offset-1">
                <div class="panel panel-default text-center">
                    <div class="panel-body">
                        <h3 class="accesliste">liste des lieux de traitement</h3>
                        <a href="{{ path('listelieutraitement')}}">
                            <img  src="{{asset('images/list.png')}}">
                        </a>
                    </div>
                </div>
            </div>
            <div class="col-lg-3 col-md-3 col-xs-10 col-sm-10 col-md-offset-1 col-lg-offset-1 col-sm-offset-1 col-xs-offset-1">
                <div class="panel panel-default text-center">
                    <div class="panel-body">
                        <h3 class="accesliste">liste des relations entre les lieux de traitement et les collecteurs</h3>
                        <a href="{{ path('listetraitementcollector')}}">
                            <img  src="{{asset('images/list.png')}}">
                        </a>
                    </div>
                </div>
            </div>
            <hr class="hrStyle col-lg-10 col-md-10 col-xs-10 col-lg-offset-1 col-md-offset-1 col-xs-offset-1">
            {#blocs informations#}
            <div class="col-lg-3 col-md-3 col-xs-10 col-sm-10 col-md-offset-1 col-lg-offset-1 col-sm-offset-1 col-xs-offset-1">
                <div class="panel panel-default text-center">
                    <div class="panel-heading ">
                        <p><strong><p class="kg">{{totalweightbyweek}} Kg </p> de biodéchets collectés cette semaine</strong></p>
                        <i class="kg">Bravo!</i><span class="fa-angle-right" aria-hidden="true"></span>
                    </div>
                </div>
            </div>


            <div class="col-lg-3 col-md-3 col-xs-10 col-sm-10 col-md-offset-1 col-lg-offset-1 col-sm-offset-1 col-xs-offset-1">
                <div class="panel panel-default text-center">
                    <div class="panel-heading ">
                        <p><strong><p class="kg">{{totalweight}} Kg </p> de biodéchets collecté depuis le début de l'année</strong></p>
                        <i class="kg">Bravo!</i>
                    </div>
                </div>
            </div>

            <div class="col-lg-3 col-md-3 col-xs-10 col-sm-10 col-md-offset-1 col-lg-offset-1 col-sm-offset-1 col-xs-offset-1">
                <div class="panel panel-default text-center">
                    <div class="panel-heading ">
                        <p><strong><p class="kg">{{totalweightoutputcompost}} Kg </p> de composte collectés cette année</strong></p>
                        <i class="kg">Bravo!</i><span class="fa-angle-right" aria-hidden="true"></span>
                    </div>
                </div>
            </div>

            <div class="col-lg-3 col-md-3 col-xs-10 col-sm-10 col-md-offset-1 col-lg-offset-1 col-sm-offset-1 col-xs-offset-1">
                <div class="panel panel-default text-center">
                    <div class="panel-heading ">
                        <p><strong><p class="kg">{{totalweightoutputcompostbyweek}} Kg </p> de composte collecté cette semaine</strong></p>
                        <i class="kg">Bravo!</i>
                    </div>
                </div>
            </div>
            <hr class="hrStyle col-lg-10 col-md-10 col-xs-10 col-lg-offset-1 col-md-offset-1 col-xs-offset-1">
            {#Blocs créations#}          
            <div class="col-lg-3 col-md-3 col-xs-10 col-sm-10 col-md-offset-1 col-lg-offset-1 col-sm-offset-1 col-xs-offset-1">
                <div class="panel panel-default text-center">
                    <div class="panel-body">
                        <h3>Nouveau collecteur</h3>
                        <a href="{{ path('registercollector')}}">
                            <img  src="{{asset('images/add.png')}}">
                        </a>
                    </div>
                </div>
            </div>
            <div class="col-lg-3 col-md-3 col-xs-10 col-sm-10 col-md-offset-1 col-lg-offset-1 col-sm-offset-1 col-xs-offset-1">
                <div class="panel panel-default text-center">
                    <div class="panel-body">
                        <h3>Nouveau client</h3>
                        <a href="{{ path('registerclient')}}">
                            <img  src="{{asset('images/add.png')}}">
                        </a>
                    </div>
                </div>
            </div>
            <div class="col-lg-3 col-md-3 col-xs-10 col-sm-10 col-md-offset-1 col-lg-offset-1 col-sm-offset-1 col-xs-offset-1">
                <div class="panel panel-default text-center">
                    <div class="panel-body">
                        <h3>Nouveau secteur</h3>
                        <a href="{{ path('registerlieutraitement')}}">
                            <img  src="{{asset('images/add.png')}}">
                        </a>
                    </div>
                </div>
            </div>
            <div class="col-lg-3 col-md-3 col-xs-10 col-sm-10 col-md-offset-1 col-lg-offset-1 col-sm-offset-1 col-xs-offset-1">
                <div class="panel panel-default text-center">
                    <div class="panel-body">
                        <h3>Nouveau lieu de collecte</h3>
                        <a href="{{ path('registerlieucollecte')}}">
                            <img  src="{{asset('images/add.png')}}">
                        </a>
                    </div>
                </div>
            </div>
            <div class="col-lg-3 col-md-3 col-xs-10 col-sm-10 col-md-offset-1 col-lg-offset-1 col-sm-offset-1 col-xs-offset-1">
                <div class="panel panel-default text-center">
                    <div class="panel-body">
                        <h3>Nouvelle assignation d'un collecteur à lieu de traitement</h3>
                        <a href="{{ path('registertraitementcollector')}}">
                            <img  src="{{asset('images/add.png')}}">
                        </a>
                    </div>
                </div>
            </div>
        </div>
        {% endblock %}
